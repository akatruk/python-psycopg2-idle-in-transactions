<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>My First Prject</title>
</head>
<h1>
<style scoped>
  .greenText {color:red;}
  </style>
  <p class="greenText">Attention! Highweight locks were detected!</p></h1>
<h4>
  Utility helps to define and track problem sessions in PostgreSQL:
</h4>
<p>Amount and status all sessions:</p>
<table border="1">
  <tr>
    {% for d4 in data5 %}
    <tr> <td>{{ d4[0] }}</td><td>{{ d4[1] }}</td></tr>
   {% endfor %}  
</table>
<p>Detail information about heavyweight locks:</p>
</table>
<body>
  <table border="1">
    <tr>
      <tr> <td><b>{{ tt2[0] }}</b></td> <td><b>{{ tt2[1] }}</b> </td> <td><b>{{ tt2[2] }}</b> </td> <td><b>{{ tt2[3] }}</b> </td><td><b>{{ tt2[4] }}</b> </td><td><b>{{ tt2[5] }}</b> </td><td><b>{{ tt2[6] }}</b> </td><td><b>{{ tt2[7] }}</b> </td><td><b>{{ tt2[8] }}</b> </td><td><b>{{ tt2[9] }}</b> </td></b>
      {% for d2 in data3 %}
      <tr> <td>{{ d2[0] }} </td> <td>{{ d2[1] }} </td> <td>{{ d2[2] }} </td><td>{{ d2[3] }} </td> <td>{{ d2[4] }} </td> <td>{{ d2[5] }} </td> <td>{{ d2[6] }} </td> <td>{{ d2[7] }}</td><td>{{ d2[8] }}</td><td>{{ d2[9] }}</td></tr>
      {% endfor %}
      <p> </p>
      <table border="1">
        <p>Grab query to PSQL console to kill sessions with 'heavyweight':</p>
        <tr>
          {% for d3 in data4 %}
          <tr> <td>{{ d3[0] }}</td></tr>
         {% endfor %}  
    </table>
    <p>Detail information about active '<a href="https://wiki.lyrasis.org/display/DSPACE/Idle+In+Transaction+Problem">idle in transactions</a>' sessions:</p>
    <table border="1">
      <tr>
        <tr> <td><b>{{ tt1[0] }}</b></td> <td><b>{{ tt1[1] }}</b> </td> <td><b>{{ tt1[2] }}</b> </td> <td><b>{{ tt1[3] }}</b> </td><td><b>{{ tt1[4] }}</b> </td><td><b>{{ tt1[5] }}</b> </td><td><b>{{ tt1[6] }}</b> </td><td><b>{{ tt1[7] }}</b> </td></b>
        {% for d1 in data1 %}
        <tr> <td>{{ d1[0] }} </td> <td>{{ d1[1] }} </td> <td>{{ d1[2] }} </td><td>{{ d1[3] }} </td> <td>{{ d1[4] }} </td> <td>{{ d1[5] }} </td> <td>{{ d1[6] }} </td> <td>{{ d1[7] }} </td>  </tr>
       {% endfor %}
      </table>
      <p>Grab query to PSQL console to kill 'idle in transactions' sessions:</p>
      <table border="1">
        <tr>
          {% for d1 in data2 %}
          <tr> <td>{{ d1[0] }}</td></tr>
         {% endfor %}  
</html>
